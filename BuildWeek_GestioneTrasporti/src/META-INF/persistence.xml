<?xml version="1.0" encoding="UTF-8"?>
<persistence-unit name="BuildWeek_GestioneTrasporti">
    <class>model.Abbonamento</class>
    <class>model.DistributoreAutomatico</class> 
    <class>model.User</class>
    <class>model.Biglietto</class>
    <class>model.Viaggio</class>
    <class>model.Tratta</class>
    <class>model.Tessera</class>
    <class>model.Rivenditore</class>
    <class>model.Mezzo</class>
<properties>
    <property name="javax.persistence.jdbc.driver" value="org.postgresql.Driver" />
    <property name="javax.persistence.jdbc.url" value="jdbc:postgresql://localhost:5432/gestioneTrasporti" />
    <property name="javax.persistence.jdbc.user" value="postgres" />
    <property name="javax.persistence.jdbc.password" value="root" />
    <property name="hibernate.dialect" value="org.hibernate.dialect.PostgreSQLDialect" />
    <property name="hibernate.default_schema" value="public" />
    <property name="hibernate.id.new_generator_mappings" value="false" />
    <property name="hibernate.hbm2ddl.auto" value="create" />
</properties>
<named-queries>
    <named-query name="getAllAbbonamenti">
        <query>SELECT a FROM Abbonamento a</query>
    </named-query>
    <named-query name="findDistributorByName" query="SELECT d FROM DistributoreAutomatico d WHERE d.name = :name"/>
    <named-query name="findAllBiglietti">
        <query>SELECT b FROM Biglietto b</query>
    </named-query>
    <named-query name="findAllMezzi">
        <query>SELECT m FROM Mezzo m</query>
    </named-query>
    <named-query name="findTessereByDateRange">
        <query>SELECT t FROM Tessera t WHERE t.dataEmissione BETWEEN :startDate AND :endDate</query>
    </named-query>
    <named-query name="findTratteByViaggioId">
        <query>SELECT t FROM Tratta t WHERE t.viaggio.id = :viaggioId</query>
    </named-query>
    <named-query name="findUserByCardNumber">
        <query>SELECT u FROM User u WHERE u.cardNumber = :cardNumber</query>
    </named-query>
    <named-query name="findViaggiByName">
        <query>SELECT v FROM Viaggio v WHERE v.nome = :nomeViaggio</query>
    </named-query>
    <named-query name="findStazioneByNome">
        <query>SELECT s FROM Stazione s WHERE s.nome = :nomeStazione</query>
    </named-query>
    <named-query name="findTratteInPartenzaByData">
        <query>SELECT t FROM Tratta t WHERE t.partenza.id = :partenzaId AND t.dataPartenza = :data</query>
    </named-query>
    <named-query name="findTratteInArrivoByData">
        <query>SELECT t FROM Tratta t WHERE t.arrivo.id = :arrivoId AND t.dataArrivo = :data</query>
    </named-query>
    <named-query name="findPrenotazioniByUser">
        <query>SELECT p FROM Prenotazione p WHERE p.user = :user</query>
</named-query>

<named-query name="findPrenotazioniByViaggio">
  <query>SELECT p FROM model.Prenotazione p WHERE p.viaggio = :model.viaggio</query>
</named-query>

    
</named-queries>

</persistence-unit>

